Save all Shapefiles to a /data/ subdirectory of this one.

Download and unzip Street Network Database shape file from:
https://data.seattle.gov/dataset/Street-Network-Database-SND-/nkgj-gr6r

Download and unzip Seattle bicycle facilities data from
https://data.seattle.gov/dataset/Existing-Bike-Facilities/pth5-3a9v and reproject it to EPSG:4326

[note for future: if we decide to add planned bike facilities, they're at https://data.seattle.gov/dataset/Planned-Bike-Facilities/5wet-822j ]

Details of the fields are inside the zip file in SND_Business_Rules.htm
and https://www.seattle.gov/Documents/Departments/SDOT/GIS/Planned_Bike_Facilities_OD.pdf

Examples of using Leaflet maps are at: https://github.com/jupyter-widgets/ipyleaflet

Documentation about querying Pandas Dataframes is at: https://pandas.pydata.org/pandas-docs/stable/indexing.html

A Dockerfile (https://www.docker.com/) is available:
docker build --tag tpfliss/bikemaps2 .
dockder run -it /bin/bash
docker run -p 8888:8888 -v `pwd`/nb:/nb -v -v `pwd`/data:/snd -it tpfliss/bikemaps2 /bin/bash
cd /nb
jupyter notebook --ip=0.0.0.0

The jupyter notebook (http://jupyter.org/) will run at http://localhost:8888
Open the 2018_AAA_Map notebook, change the file names to point at the street network database WSG84 shape file
and the bike facilities shape file, then run the cells.


## Alternatively, loading to PostGIS (this example assumes that we are including planned bike facilities)

1. create a database called `sng`
2. on that database, issue `CREATE EXTENSION postgis;`
3. from the command line, load the data:
	* `shp2pgsql -s2926:4326 data/Street_Network_Database_\(SND\).shp streets | psql -h 127.0.0.1 -d sng -U YOURUSERNAME`
	* `shp2pgsql -s4326 data/Existing_Bike_Facilities.shp bike | psql -h 127.0.0.1 -d sng -U YOURUSERNAME`
	* `shp2pgsql -s2926:4326 data/Planned_Bike_Facilities.shp bike_planned | psql -h 127.0.0.1 -d sng -U YOURUSERNAME`
4. on the database, run `classify_streets.pgsql`
